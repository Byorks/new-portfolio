import { useRef } from "react";
import { gsap, useGSAP } from "../../../../lib/gsap";
import scrambleTech from "../../../../animations/scrambleTech";
import ContactForm from "./ContactForm";
import CyberSquareButton from "../../../../components/CyberSquareButton";

const SOCIAL_LOGOS = [
  <svg
    width="35"
    height="35"
    viewBox="0 0 35 35"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.7067 28.1819C11.7067 28.3267 11.5444 28.4425 11.3397 28.4425C11.1069 28.4642 10.9446 28.3484 10.9446 28.1819C10.9446 28.0372 11.1069 27.9214 11.3115 27.9214C11.5232 27.8997 11.7067 28.0155 11.7067 28.1819ZM9.5121 27.8563C9.4627 28.001 9.60383 28.1675 9.81552 28.2109C9.99899 28.2833 10.2107 28.2109 10.253 28.0662C10.2954 27.9214 10.1613 27.7549 9.9496 27.6898C9.76613 27.6392 9.56149 27.7115 9.5121 27.8563ZM12.631 27.7332C12.4264 27.7839 12.2853 27.9214 12.3064 28.0879C12.3276 28.2326 12.5111 28.3267 12.7228 28.276C12.9274 28.2254 13.0685 28.0879 13.0474 27.9431C13.0262 27.8056 12.8357 27.7115 12.631 27.7332ZM17.2742 0C7.48689 0 0 7.62085 0 17.659C0 25.6851 4.9254 32.5533 11.9607 34.9705C12.8639 35.137 13.1814 34.5652 13.1814 34.0948C13.1814 33.6461 13.1603 31.1709 13.1603 29.6511C13.1603 29.6511 8.22077 30.7367 7.18347 27.4944C7.18347 27.4944 6.37903 25.3884 5.22177 24.8456C5.22177 24.8456 3.60585 23.7093 5.33468 23.731C5.33468 23.731 7.09173 23.8758 8.05847 25.5982C9.60383 28.3918 12.1935 27.5885 13.2026 27.1108C13.3649 25.9529 13.8236 25.1495 14.3317 24.6719C10.3871 24.2232 6.40726 23.6369 6.40726 16.6747C6.40726 14.6844 6.94355 13.6857 8.07258 12.4119C7.88911 11.9415 7.28931 10.0019 8.25605 7.49782C9.73085 7.0274 13.125 9.45188 13.125 9.45188C14.5363 9.04659 16.0534 8.83671 17.5564 8.83671C19.0595 8.83671 20.5766 9.04659 21.9879 9.45188C21.9879 9.45188 25.3821 7.02016 26.8569 7.49782C27.8236 10.0092 27.2238 11.9415 27.0403 12.4119C28.1694 13.6929 28.8609 14.6917 28.8609 16.6747C28.8609 23.6587 24.7046 24.2159 20.7601 24.6719C21.4093 25.2436 21.9597 26.3292 21.9597 28.03C21.9597 30.4689 21.9385 33.4869 21.9385 34.0803C21.9385 34.5508 22.2631 35.1225 23.1593 34.956C30.2157 32.5533 35 25.6851 35 17.659C35 7.62085 27.0615 0 17.2742 0ZM6.85887 24.9614C6.76714 25.0337 6.78831 25.2002 6.90827 25.3377C7.02117 25.4535 7.18347 25.5042 7.2752 25.4101C7.36694 25.3377 7.34577 25.1712 7.22581 25.0337C7.1129 24.9179 6.9506 24.8673 6.85887 24.9614ZM6.09677 24.3751C6.04738 24.4692 6.11794 24.585 6.25907 24.6574C6.37198 24.7298 6.5131 24.7081 6.5625 24.6067C6.61189 24.5127 6.54133 24.3969 6.4002 24.3245C6.25907 24.2811 6.14617 24.3028 6.09677 24.3751ZM8.38306 26.9516C8.27016 27.0457 8.3125 27.2628 8.4748 27.4003C8.6371 27.5668 8.84173 27.5885 8.93347 27.4727C9.0252 27.3786 8.98286 27.1615 8.84173 27.024C8.68649 26.8575 8.4748 26.8358 8.38306 26.9516ZM7.57863 25.8877C7.46573 25.9601 7.46573 26.1483 7.57863 26.3147C7.69153 26.4812 7.88206 26.5536 7.97379 26.4812C8.08669 26.3871 8.08669 26.1989 7.97379 26.0325C7.875 25.866 7.69153 25.7936 7.57863 25.8877Z"
      fill="white"
    />
  </svg>,
  <svg
    width="42"
    height="42"
    viewBox="0 0 42 42"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12.814 33.4222H6.74966V13.8976H12.814V33.4222ZM9.77855 11.2343C7.8398 11.2343 6.2666 9.62843 6.2666 7.68968C6.2666 6.75621 6.63869 5.86843 7.29799 5.20912C7.9573 4.54982 8.8516 4.17773 9.77855 4.17773C10.7055 4.17773 11.5998 4.54982 12.2591 5.20912C12.9184 5.86843 13.2905 6.76273 13.2905 7.68968C13.2905 9.62843 11.7173 11.2343 9.77855 11.2343ZM35.5045 33.4222H29.4533V23.9177C29.4533 21.6526 29.4076 18.7477 26.3004 18.7477C23.1474 18.7477 22.6644 21.2087 22.6644 23.7545V33.4222H16.6066V13.8976H22.4229V16.5609H22.5077C23.3172 15.0269 25.2951 13.408 28.2456 13.408C34.3817 13.408 35.511 17.4487 35.511 22.697V33.4222H35.5045Z"
      fill="currentColor"
    />
  </svg>,
];

const ContactSection = () => {
  const containerRef = useRef();
  const titleRef = useRef();
  const lineRef = useRef();
  const verticalRef = useRef();

  const githubIcon = (
    <svg
      width="35"
      height="35"
      viewBox="0 0 35 35"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M11.7067 28.1819C11.7067 28.3267 11.5444 28.4425 11.3397 28.4425C11.1069 28.4642 10.9446 28.3484 10.9446 28.1819C10.9446 28.0372 11.1069 27.9214 11.3115 27.9214C11.5232 27.8997 11.7067 28.0155 11.7067 28.1819ZM9.5121 27.8563C9.4627 28.001 9.60383 28.1675 9.81552 28.2109C9.99899 28.2833 10.2107 28.2109 10.253 28.0662C10.2954 27.9214 10.1613 27.7549 9.9496 27.6898C9.76613 27.6392 9.56149 27.7115 9.5121 27.8563ZM12.631 27.7332C12.4264 27.7839 12.2853 27.9214 12.3064 28.0879C12.3276 28.2326 12.5111 28.3267 12.7228 28.276C12.9274 28.2254 13.0685 28.0879 13.0474 27.9431C13.0262 27.8056 12.8357 27.7115 12.631 27.7332ZM17.2742 0C7.48689 0 0 7.62085 0 17.659C0 25.6851 4.9254 32.5533 11.9607 34.9705C12.8639 35.137 13.1814 34.5652 13.1814 34.0948C13.1814 33.6461 13.1603 31.1709 13.1603 29.6511C13.1603 29.6511 8.22077 30.7367 7.18347 27.4944C7.18347 27.4944 6.37903 25.3884 5.22177 24.8456C5.22177 24.8456 3.60585 23.7093 5.33468 23.731C5.33468 23.731 7.09173 23.8758 8.05847 25.5982C9.60383 28.3918 12.1935 27.5885 13.2026 27.1108C13.3649 25.9529 13.8236 25.1495 14.3317 24.6719C10.3871 24.2232 6.40726 23.6369 6.40726 16.6747C6.40726 14.6844 6.94355 13.6857 8.07258 12.4119C7.88911 11.9415 7.28931 10.0019 8.25605 7.49782C9.73085 7.0274 13.125 9.45188 13.125 9.45188C14.5363 9.04659 16.0534 8.83671 17.5564 8.83671C19.0595 8.83671 20.5766 9.04659 21.9879 9.45188C21.9879 9.45188 25.3821 7.02016 26.8569 7.49782C27.8236 10.0092 27.2238 11.9415 27.0403 12.4119C28.1694 13.6929 28.8609 14.6917 28.8609 16.6747C28.8609 23.6587 24.7046 24.2159 20.7601 24.6719C21.4093 25.2436 21.9597 26.3292 21.9597 28.03C21.9597 30.4689 21.9385 33.4869 21.9385 34.0803C21.9385 34.5508 22.2631 35.1225 23.1593 34.956C30.2157 32.5533 35 25.6851 35 17.659C35 7.62085 27.0615 0 17.2742 0ZM6.85887 24.9614C6.76714 25.0337 6.78831 25.2002 6.90827 25.3377C7.02117 25.4535 7.18347 25.5042 7.2752 25.4101C7.36694 25.3377 7.34577 25.1712 7.22581 25.0337C7.1129 24.9179 6.9506 24.8673 6.85887 24.9614ZM6.09677 24.3751C6.04738 24.4692 6.11794 24.585 6.25907 24.6574C6.37198 24.7298 6.5131 24.7081 6.5625 24.6067C6.61189 24.5127 6.54133 24.3969 6.4002 24.3245C6.25907 24.2811 6.14617 24.3028 6.09677 24.3751ZM8.38306 26.9516C8.27016 27.0457 8.3125 27.2628 8.4748 27.4003C8.6371 27.5668 8.84173 27.5885 8.93347 27.4727C9.0252 27.3786 8.98286 27.1615 8.84173 27.024C8.68649 26.8575 8.4748 26.8358 8.38306 26.9516ZM7.57863 25.8877C7.46573 25.9601 7.46573 26.1483 7.57863 26.3147C7.69153 26.4812 7.88206 26.5536 7.97379 26.4812C8.08669 26.3871 8.08669 26.1989 7.97379 26.0325C7.875 25.866 7.69153 25.7936 7.57863 25.8877Z"
        fill="currentColor"
      />
    </svg>
  );

  useGSAP(
    () => {
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: containerRef.current,
          start: "top 80%",
          end: "bottom 20%",
          // toggleActions: "restart pause resume pause",
          markers: false,
        },
      });

      gsap.set(titleRef.current, {
        opacity: 0,
      });

      tl.to(lineRef.current, {
        scaleX: 1,
        duration: 1,
        ease: "power2.out",
      }).to(
        verticalRef.current,
        {
          scaleY: 1,
          duration: 0.6,
          ease: "power2.out",
        },
        "<",
      );

      scrambleTech(tl, titleRef.current, "Contato");
    },
    { scope: containerRef },
  );

  return (
    <section
      id="contact"
      ref={containerRef}
      className="min-h-[50dvh] w-full py-4"
    >
      <div className="w-full max-w-6xl lg:max-w-7xl mx-auto flex flex-col">
        <div className="w-full relative px-6 sm:px-8 my-6 md:my-11">
          <div ref={lineRef} className="h-px bg-white origin-right scale-x-0" />
          <div
            ref={verticalRef}
            className=" absolute right-15 -top-6 h-12 w-px bg-white origin-top scale-y-0"
          />
        </div>

        <h2 ref={titleRef} className="title-h2 text-center"></h2>

        <div className="w-full mx-auto grid grid-cols-4 md:grid-cols-12 py-12 px-6 sm:px-8 gap-8 md:gap-2">
          <div className="col-span-4 md:col-span-6">
            <div className="py-4 md:py-0">
              <p>Ficou com alguma dúvida ou deseja iniciar um projeto?</p>
              <p>Entre em contato para conversarmos.</p>
            </div>

            <div className="py-4 grid gap-2">
              <div className="flex gap-4">
                <svg
                  className="mb-2"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M21.6 6.08247L12 14.5148L2.4 6.07046V5.73325H21.6V6.08247ZM2.4 18.9333V9.26726L12 17.7092L21.6 9.27686V18.9333H2.4ZM0 21.3333H24V3.33325H0V21.3333Z"
                    fill="#A471FF"
                  />
                </svg>
                <a
                  className="hover:text-primary"
                  href="mailto:vanessabyork@gmail.com"
                >
                  vanessabyork@gmail.com
                </a>
              </div>

              <div className="">
                <svg viewBox="0 0 296 20" className="w-3/4 h-auto">
                  <line x1="0" y1="0.5" x2="207.2" y2="0.5" stroke="white" />
                  <line
                    x1="207.2"
                    y1="0.5"
                    x2="226.315"
                    y2="19.5"
                    stroke="white"
                  />
                  <line
                    x1="218.032"
                    y1="0.5"
                    x2="237.146"
                    y2="19.5"
                    stroke="white"
                  />
                  <line
                    x1="229.819"
                    y1="0.5"
                    x2="248.934"
                    y2="19.5"
                    stroke="white"
                  />
                  <line
                    x1="241.607"
                    y1="0.5"
                    x2="260.721"
                    y2="19.5"
                    stroke="white"
                  />
                </svg>
              </div>
              <div className="flex">
                <a target="_blank" href={"https://github.com/Byorks"}>
                  <CyberSquareButton>{githubIcon}</CyberSquareButton>
                </a>
                <a
                  target="_blank"
                  href={"https://www.linkedin.com/in/vanessa-byork/"}
                >
                  <CyberSquareButton>{SOCIAL_LOGOS[1]}</CyberSquareButton>
                </a>
              </div>
            </div>

            {/* Ícones de contato */}
            <div></div>
          </div>
          <div className="col-span-4 md:col-span-5 md:col-end-13">
            <ContactForm></ContactForm>
          </div>
        </div>
      </div>
    </section>
  );
};

export default ContactSection;

// TODO
// Criar forma de colocar os ícones, desenhar em código ou svg?
// linkar o email pra click e acesso
